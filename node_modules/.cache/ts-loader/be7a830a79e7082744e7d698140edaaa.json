{"remainingRequest":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/babel-loader/lib/index.js!/Users/zhangyufan/em/testPro/vue-scale/node_modules/ts-loader/index.js??ref--14-2!/Users/zhangyufan/em/testPro/vue-scale/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangyufan/em/testPro/vue-scale/src/views/code/cascader/loading.ts","dependencies":[{"path":"/Users/zhangyufan/em/testPro/vue-scale/src/views/code/cascader/loading.ts","mtime":1573474128000},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/cache-loader/dist/cjs.js","mtime":1573721989004},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/babel-loader/lib/index.js","mtime":1574242632071},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/ts-loader/index.js","mtime":1574332289889},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1574242646426}],"contextDependencies":[],"result":["var base = {\n  title: '动态加载选项',\n  desc: '配合 <code>before</code> 属性。',\n  code: '<w-cascader v-model=\"loadingValue\" :loading=\"loadingStatus\" :before=\"beforeHandle\" :options=\"loadingOptions\" :change=\"loadingChange\"></w-cascader>',\n  js: \"{\\n  data() {\\n    return {\\n      loadingValue: [],\\n      loadingStatus: false,\\n      loadingOptions: [],\\n      loadingGetDataTime: 1,\\n    };\\n  },\\n  methods: {\\n    beforeHandle(a) {\\n      if (!this.loadingOptions.length) {\\n        this.loadingStatus = true;\\n        return new Promise((resolve) => {\\n          setTimeout(() => {\\n            this.loadingOptions.push({\\n              value: 'beijing',\\n              label: 'Beijing',\\n              code: 300392,\\n            });\\n            this.loadingOptions.push({\\n              value: 'nanjing',\\n              label: 'Nanjing',\\n              code: 300392,\\n            });\\n            this.loadingStatus = false;\\n            resolve();\\n          }, 2000);\\n        });\\n      }\\n      return new Promise((resolve) => {\\n        resolve();\\n      });\\n    },\\n    loadingChange(ctx) {\\n      const {\\n        options,\\n        item,\\n        index,\\n        value,\\n        ev,\\n      } = ctx;\\n      this.loadingValue = value;\\n      if (this.loadingGetDataTime) {\\n        this.loadingGetDataTime = 0;\\n        options.splice(index, 1, {\\n          ...item,\\n          loading: true,\\n        });\\n        setTimeout(() => {\\n          options.splice(index, 1, {\\n            ...item,\\n            loading: false,\\n            children: [\\n              {\\n                value: 'dongcheng',\\n                label: 'Dong Cheng',\\n                code: 300392,\\n              },\\n            ],\\n          });\\n        }, 2000);\\n        ev.stopPropagation();\\n      }\\n    },\\n  },\\n}\"\n};\nexport default base;",{"version":3,"sources":["/Users/zhangyufan/em/testPro/vue-scale/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangyufan/em/testPro/vue-scale/src/views/code/cascader/loading.ts"],"names":[],"mappings":"AAEA,IAAM,IAAI,GAAc;AACtB,EAAA,KAAK,EAAE,QADe;AAEtB,EAAA,IAAI,EAAE,4BAFgB;AAGtB,EAAA,IAAI,EAAE,oJAHgB;AAItB,EAAA,EAAE;AAJoB,CAAxB;AAyEA,eAAe,IAAf","sourcesContent":["import { ApiEntity } from '@/views/entity/demoentity';\r\n\r\nconst base: ApiEntity = {\r\n  title: '动态加载选项',\r\n  desc: '配合 <code>before</code> 属性。',\r\n  code: '<w-cascader v-model=\"loadingValue\" :loading=\"loadingStatus\" :before=\"beforeHandle\" :options=\"loadingOptions\" :change=\"loadingChange\"></w-cascader>',\r\n  js: `{\r\n  data() {\r\n    return {\r\n      loadingValue: [],\r\n      loadingStatus: false,\r\n      loadingOptions: [],\r\n      loadingGetDataTime: 1,\r\n    };\r\n  },\r\n  methods: {\r\n    beforeHandle(a) {\r\n      if (!this.loadingOptions.length) {\r\n        this.loadingStatus = true;\r\n        return new Promise((resolve) => {\r\n          setTimeout(() => {\r\n            this.loadingOptions.push({\r\n              value: 'beijing',\r\n              label: 'Beijing',\r\n              code: 300392,\r\n            });\r\n            this.loadingOptions.push({\r\n              value: 'nanjing',\r\n              label: 'Nanjing',\r\n              code: 300392,\r\n            });\r\n            this.loadingStatus = false;\r\n            resolve();\r\n          }, 2000);\r\n        });\r\n      }\r\n      return new Promise((resolve) => {\r\n        resolve();\r\n      });\r\n    },\r\n    loadingChange(ctx) {\r\n      const {\r\n        options,\r\n        item,\r\n        index,\r\n        value,\r\n        ev,\r\n      } = ctx;\r\n      this.loadingValue = value;\r\n      if (this.loadingGetDataTime) {\r\n        this.loadingGetDataTime = 0;\r\n        options.splice(index, 1, {\r\n          ...item,\r\n          loading: true,\r\n        });\r\n        setTimeout(() => {\r\n          options.splice(index, 1, {\r\n            ...item,\r\n            loading: false,\r\n            children: [\r\n              {\r\n                value: 'dongcheng',\r\n                label: 'Dong Cheng',\r\n                code: 300392,\r\n              },\r\n            ],\r\n          });\r\n        }, 2000);\r\n        ev.stopPropagation();\r\n      }\r\n    },\r\n  },\r\n}`,\r\n};\r\n\r\nexport default base;\r\n"],"sourceRoot":""}]}