{"remainingRequest":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/babel-loader/lib/index.js!/Users/zhangyufan/em/testPro/vue-scale/node_modules/ts-loader/index.js??ref--14-2!/Users/zhangyufan/em/testPro/vue-scale/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangyufan/em/testPro/vue-scale/src/helper/option.ts","dependencies":[{"path":"/Users/zhangyufan/em/testPro/vue-scale/src/helper/option.ts","mtime":1573474128000},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/cache-loader/dist/cjs.js","mtime":1573721989004},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/babel-loader/lib/index.js","mtime":1574242632071},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/ts-loader/index.js","mtime":1574332289889},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1574242646426}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/zhangyufan/em/testPro/vue-scale/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.array.find-index\";\n// 放到这是因为碰到不可用的没法同步索引\nexport var findEnabled = function findEnabled(slotsData) {\n  var hoverIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var direction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var fieldNames = arguments.length > 3 ? arguments[3] : undefined;\n\n  if (!slotsData) {\n    return -1;\n  }\n\n  var disables = slotsData.filter(function (slot) {\n    return slot[fieldNames.disabled];\n  }); // 如果全是禁用的情况\n\n  if (disables.length === slotsData.length) {\n    return -1;\n  }\n\n  var index = slotsData.findIndex(function (slot, slotIndex) {\n    return !slot[fieldNames.disabled] && hoverIndex === slotIndex;\n  });\n\n  if (index < 0) {\n    var newIndex = hoverIndex + direction; // 下\n\n    if (direction === 1 && newIndex > slotsData.length - 1) {\n      newIndex = 0;\n    } // 上\n\n\n    if (direction === -1 && newIndex < 0) {\n      newIndex = slotsData.length - 1;\n    }\n\n    return findEnabled(slotsData, newIndex, direction, fieldNames);\n  } // 防止超出了数组的长度\n\n\n  return Math.min(index, slotsData.length - 1);\n};\nexport var handleName = function handleName(value, name, slotsDefault) {\n  var isTagMode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var fieldNames = arguments.length > 4 ? arguments[4] : undefined;\n  var newName = name.slice();\n  var nameIndex = newName.findIndex(function (nameItem) {\n    return isTagMode ? nameItem === value : nameItem.indexOf(value) > -1;\n  }); // 如果有就删了\n\n  if (nameIndex > -1) {\n    newName.splice(nameIndex, 1);\n  } else {\n    var newIndex = slotsDefault.findIndex(function (nameItem) {\n      return nameItem[fieldNames.label].indexOf(value) > -1;\n    }); // 如果找到对应的名字就填进去\n\n    if (newIndex > -1) {\n      newName.push(slotsDefault[newIndex][fieldNames.label]);\n    }\n  }\n\n  return newName;\n}; // 有就删没有就加\n\nexport var toggleItem = function toggleItem() {\n  var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var value = arguments.length > 1 ? arguments[1] : undefined;\n  var fieldNames = arguments.length > 2 ? arguments[2] : undefined;\n  var newTagIndex = target.findIndex(function (name) {\n    return name[fieldNames.label] === value;\n  });\n\n  if (newTagIndex > -1) {\n    target.splice(newTagIndex, 1);\n  } else {\n    var _target$push;\n\n    target.push((_target$push = {}, _defineProperty(_target$push, fieldNames.value, value), _defineProperty(_target$push, fieldNames.label, value), _defineProperty(_target$push, \"new\", true), _defineProperty(_target$push, fieldNames.disabled, false), _target$push));\n  }\n}; // 有就加，没有不操作\n\nexport var addUsedStatus = function addUsedStatus() {\n  var findTarget = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var fieldNames = arguments.length > 2 ? arguments[2] : undefined;\n  var statusArrs = [];\n  target.forEach(function (value) {\n    var _statusArrs$push;\n\n    var findEnd = findTarget.find(function (findItem) {\n      return findItem[fieldNames.label] === value;\n    });\n    statusArrs.push((_statusArrs$push = {}, _defineProperty(_statusArrs$push, fieldNames.value, findEnd[fieldNames.value]), _defineProperty(_statusArrs$push, fieldNames.label, findEnd[fieldNames.label]), _defineProperty(_statusArrs$push, fieldNames.disabled, findEnd ? findEnd[fieldNames.disabled] : false), _statusArrs$push));\n  });\n  return statusArrs;\n};",{"version":3,"sources":["/Users/zhangyufan/em/testPro/vue-scale/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangyufan/em/testPro/vue-scale/src/helper/option.ts"],"names":[],"mappings":";;;;AAEA;AACA,OAAO,IAAM,WAAW,GAAG,SAAd,WAAc,CACzB,SADyB,EAKf;AAAA,MAHV,UAGU,uEAHW,CAGX;AAAA,MAFV,SAEU,uEAFU,CAEV;AAAA,MADV,UACU;;AACV,MAAI,CAAC,SAAL,EAAgB;AACd,WAAO,CAAC,CAAR;AACD;;AACD,MAAM,QAAQ,GAAG,SAAS,CAAC,MAAV,CAAiB,UAAC,IAAD;AAAA,WAAe,IAAI,CAAC,UAAU,CAAC,QAAZ,CAAnB;AAAA,GAAjB,CAAjB,CAJU,CAKV;;AACA,MAAI,QAAQ,CAAC,MAAT,KAAoB,SAAS,CAAC,MAAlC,EAA0C;AACxC,WAAO,CAAC,CAAR;AACD;;AACD,MAAM,KAAK,GAAG,SAAS,CAAC,SAAV,CACZ,UAAC,IAAD,EAAY,SAAZ;AAAA,WAAkC,CAAC,IAAI,CAAC,UAAU,CAAC,QAAZ,CAAL,IAA8B,UAAU,KAAK,SAA/E;AAAA,GADY,CAAd;;AAGA,MAAI,KAAK,GAAG,CAAZ,EAAe;AACb,QAAI,QAAQ,GAAG,UAAU,GAAG,SAA5B,CADa,CAEb;;AACA,QAAI,SAAS,KAAK,CAAd,IAAmB,QAAQ,GAAG,SAAS,CAAC,MAAV,GAAmB,CAArD,EAAwD;AACtD,MAAA,QAAQ,GAAG,CAAX;AACD,KALY,CAMb;;;AACA,QAAI,SAAS,KAAK,CAAC,CAAf,IAAoB,QAAQ,GAAG,CAAnC,EAAsC;AACpC,MAAA,QAAQ,GAAG,SAAS,CAAC,MAAV,GAAmB,CAA9B;AACD;;AACD,WAAO,WAAW,CAAC,SAAD,EAAY,QAAZ,EAAsB,SAAtB,EAAiC,UAAjC,CAAlB;AACD,GAvBS,CAwBV;;;AACA,SAAO,IAAI,CAAC,GAAL,CAAS,KAAT,EAAgB,SAAS,CAAC,MAAV,GAAmB,CAAnC,CAAP;AACD,CA/BM;AAiCP,OAAO,IAAM,UAAU,GAAG,SAAb,UAAa,CACxB,KADwB,EAExB,IAFwB,EAGxB,YAHwB,EAMtB;AAAA,MAFF,SAEE,uEAFU,KAEV;AAAA,MADF,UACE;AACF,MAAM,OAAO,GAAG,IAAI,CAAC,KAAL,EAAhB;AACA,MAAM,SAAS,GAAG,OAAO,CAAC,SAAR,CAChB,UAAC,QAAD;AAAA,WACE,SAAS,GACL,QAAQ,KAAK,KADR,GAEL,QAAQ,CAAC,OAAT,CAAiB,KAAjB,IAA0B,CAAC,CAHjC;AAAA,GADgB,CAAlB,CAFE,CASF;;AACA,MAAI,SAAS,GAAG,CAAC,CAAjB,EAAoB;AAClB,IAAA,OAAO,CAAC,MAAR,CAAe,SAAf,EAA0B,CAA1B;AACD,GAFD,MAEO;AACL,QAAM,QAAQ,GAAG,YAAY,CAAC,SAAb,CACf,UAAC,QAAD;AAAA,aAAmB,QAAQ,CAAC,UAAU,CAAC,KAAZ,CAAR,CAA2B,OAA3B,CAAmC,KAAnC,IAA4C,CAAC,CAAhE;AAAA,KADe,CAAjB,CADK,CAIL;;AACA,QAAI,QAAQ,GAAG,CAAC,CAAhB,EAAmB;AACjB,MAAA,OAAO,CAAC,IAAR,CAAa,YAAY,CAAC,QAAD,CAAZ,CAAuB,UAAU,CAAC,KAAlC,CAAb;AACD;AACF;;AAED,SAAO,OAAP;AACD,CA7BM,C,CA8BP;;AACA,OAAO,IAAM,UAAU,GAAG,SAAb,UAAa,GAAmE;AAAA,MAAlE,MAAkE,uEAAnD,EAAmD;AAAA,MAA/C,KAA+C;AAAA,MAAhC,UAAgC;AAC3F,MAAM,WAAW,GAAG,MAAM,CAAC,SAAP,CAAiB,UAAA,IAAI;AAAA,WAAI,IAAI,CAAC,UAAU,CAAC,KAAZ,CAAJ,KAA2B,KAA/B;AAAA,GAArB,CAApB;;AACA,MAAI,WAAW,GAAG,CAAC,CAAnB,EAAsB;AACpB,IAAA,MAAM,CAAC,MAAP,CAAc,WAAd,EAA2B,CAA3B;AACD,GAFD,MAEO;AAAA;;AACL,IAAA,MAAM,CAAC,IAAP,mDACG,UAAU,CAAC,KADd,EACsB,KADtB,iCAEG,UAAU,CAAC,KAFd,EAEsB,KAFtB,wCAGO,IAHP,iCAIG,UAAU,CAAC,QAJd,EAIyB,KAJzB;AAMD;AACF,CAZM,C,CAaP;;AACA,OAAO,IAAM,aAAa,GAAG,SAAhB,aAAgB,GAA+D;AAAA,MAA9D,UAA8D,uEAAjD,EAAiD;AAAA,MAA7C,MAA6C,uEAApC,EAAoC;AAAA,MAAhC,UAAgC;AAC1F,MAAM,UAAU,GAAU,EAA1B;AACA,EAAA,MAAM,CAAC,OAAP,CAAe,UAAC,KAAD,EAAU;AAAA;;AACvB,QAAM,OAAO,GAAQ,UAAU,CAAC,IAAX,CAAgB,UAAC,QAAD;AAAA,aAAmB,QAAQ,CAAC,UAAU,CAAC,KAAZ,CAAR,KAA+B,KAAlD;AAAA,KAAhB,CAArB;AAEA,IAAA,UAAU,CAAC,IAAX,2DACG,UAAU,CAAC,KADd,EACsB,OAAO,CAAC,UAAU,CAAC,KAAZ,CAD7B,qCAEG,UAAU,CAAC,KAFd,EAEsB,OAAO,CAAC,UAAU,CAAC,KAAZ,CAF7B,qCAGG,UAAU,CAAC,QAHd,EAGyB,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,QAAZ,CAAV,GAAkC,KAHlE;AAKD,GARD;AASA,SAAO,UAAP;AACD,CAZM","sourcesContent":["import { FieldNamesEntity } from '@/components/select/entity';\r\n\r\n// 放到这是因为碰到不可用的没法同步索引\r\nexport const findEnabled = (\r\n  slotsData: any,\r\n  hoverIndex: number = 0,\r\n  direction: number = 1,\r\n  fieldNames: FieldNamesEntity,\r\n): number => {\r\n  if (!slotsData) {\r\n    return -1;\r\n  }\r\n  const disables = slotsData.filter((slot: any) => slot[fieldNames.disabled]);\r\n  // 如果全是禁用的情况\r\n  if (disables.length === slotsData.length) {\r\n    return -1;\r\n  }\r\n  const index = slotsData.findIndex(\r\n    (slot: any, slotIndex: number) => !slot[fieldNames.disabled] && hoverIndex === slotIndex,\r\n  );\r\n  if (index < 0) {\r\n    let newIndex = hoverIndex + direction;\r\n    // 下\r\n    if (direction === 1 && newIndex > slotsData.length - 1) {\r\n      newIndex = 0;\r\n    }\r\n    // 上\r\n    if (direction === -1 && newIndex < 0) {\r\n      newIndex = slotsData.length - 1;\r\n    }\r\n    return findEnabled(slotsData, newIndex, direction, fieldNames);\r\n  }\r\n  // 防止超出了数组的长度\r\n  return Math.min(index, slotsData.length - 1);\r\n};\r\n\r\nexport const handleName = (\r\n  value: string,\r\n  name: any,\r\n  slotsDefault: any[],\r\n  isTagMode = false,\r\n  fieldNames: FieldNamesEntity,\r\n) => {\r\n  const newName = name.slice();\r\n  const nameIndex = newName.findIndex(\r\n    (nameItem: string) => (\r\n      isTagMode\r\n        ? nameItem === value\r\n        : nameItem.indexOf(value) > -1\r\n    ),\r\n  );\r\n  // 如果有就删了\r\n  if (nameIndex > -1) {\r\n    newName.splice(nameIndex, 1);\r\n  } else {\r\n    const newIndex = slotsDefault.findIndex(\r\n      (nameItem: any) => nameItem[fieldNames.label].indexOf(value) > -1,\r\n    );\r\n    // 如果找到对应的名字就填进去\r\n    if (newIndex > -1) {\r\n      newName.push(slotsDefault[newIndex][fieldNames.label]);\r\n    }\r\n  }\r\n\r\n  return newName;\r\n};\r\n// 有就删没有就加\r\nexport const toggleItem = (target:any[] = [], value: string, fieldNames: FieldNamesEntity) => {\r\n  const newTagIndex = target.findIndex(name => name[fieldNames.label] === value);\r\n  if (newTagIndex > -1) {\r\n    target.splice(newTagIndex, 1);\r\n  } else {\r\n    target.push({\r\n      [fieldNames.value]: value,\r\n      [fieldNames.label]: value,\r\n      new: true,\r\n      [fieldNames.disabled]: false,\r\n    });\r\n  }\r\n};\r\n// 有就加，没有不操作\r\nexport const addUsedStatus = (findTarget = [], target = [], fieldNames: FieldNamesEntity) => {\r\n  const statusArrs: any[] = [];\r\n  target.forEach((value) => {\r\n    const findEnd: any = findTarget.find((findItem: any) => findItem[fieldNames.label] === value);\r\n\r\n    statusArrs.push({\r\n      [fieldNames.value]: findEnd[fieldNames.value],\r\n      [fieldNames.label]: findEnd[fieldNames.label],\r\n      [fieldNames.disabled]: findEnd ? findEnd[fieldNames.disabled] : false,\r\n    });\r\n  });\r\n  return statusArrs;\r\n};\r\n"],"sourceRoot":""}]}