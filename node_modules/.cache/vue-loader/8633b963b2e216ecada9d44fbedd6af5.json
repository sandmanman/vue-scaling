{"remainingRequest":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangyufan/em/testPro/vue-scale/src/components/input/Input.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/zhangyufan/em/testPro/vue-scale/src/components/input/Input.vue","mtime":1573474128000},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/cache-loader/dist/cjs.js","mtime":1573721989004},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/babel-loader/lib/index.js","mtime":1574242632071},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/ts-loader/index.js","mtime":1574332289889},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/cache-loader/dist/cjs.js","mtime":1573721989004},{"path":"/Users/zhangyufan/em/testPro/vue-scale/node_modules/vue-loader/lib/index.js","mtime":1574242648574}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {\r\n  Component,\r\n  Model,\r\n  Prop,\r\n  Emit,\r\n  Vue,\r\n} from 'vue-property-decorator';\r\nimport Inp, { ReturnParamsEntity } from '@/components/input/Inp';\r\nimport { getMaxLengthValue } from '@/components/input/helpers';\r\n\r\n@Component({\r\n  components: {\r\n    Inp,\r\n  },\r\n})\r\nexport default class Input extends Vue {\r\n  name: string = 'Input';\r\n\r\n  preName: string = 'w-input-';\r\n\r\n  suffixStyle: string = '';\r\n\r\n  @Model('model', { type: [String, Number] }) readonly value!: string | number;\r\n\r\n  @Prop([String, Number]) private maxLength!: string | number;\r\n\r\n  @Prop(String) private placeholder!: string;\r\n\r\n  @Prop(String) private size!: string;\r\n\r\n  @Prop({\r\n    type: String,\r\n    default: 'text',\r\n  }) private type!: string;\r\n\r\n  @Prop(Boolean) private disabled!: boolean;\r\n\r\n  @Prop(Boolean) private showWordLimit!: boolean;\r\n\r\n  @Prop(Boolean) private readonly!: boolean;\r\n\r\n  @Prop({\r\n    type: Function,\r\n    default: (): boolean => false,\r\n  }) private error?: Function;\r\n\r\n  @Prop({\r\n    type: Function,\r\n    default: () => {},\r\n  }) private change?: Function;\r\n\r\n  get wraperClass(): any[] {\r\n    return [\r\n      {\r\n        'w-input-wraper-slot': this.beSlot,\r\n      },\r\n    ];\r\n  }\r\n\r\n  get inputClass(): any[] {\r\n    return [\r\n      {\r\n        'w-input-slot-suffix': this.beSuffix,\r\n        'w-input-slot-prefix': this.bePrefix,\r\n        [`w-input-slot-suffix-${this.size}`]: this.beSuffix && this.size,\r\n        [`w-input-slot-prefix-${this.size}`]: this.bePrefix && this.size,\r\n      },\r\n    ];\r\n  }\r\n\r\n  get suffixClass(): any[] {\r\n    return [\r\n      {\r\n        [`w-input-wraper-suffix-${this.size}`]: this.size,\r\n        'w-input-wraper-suffix-limit': this.showWordLimit,\r\n        [`w-input-wraper-suffix-limit-${this.size}`]: this.size && this.showWordLimit,\r\n      },\r\n    ];\r\n  }\r\n\r\n  get prefixClass(): any[] {\r\n    return [\r\n      {\r\n        [`w-input-wraper-prefix-${this.size}`]: this.size,\r\n      },\r\n    ];\r\n  }\r\n\r\n  get beSuffix(): boolean {\r\n    return !!this.$slots.suffix;\r\n  }\r\n\r\n  get bePrefix(): boolean {\r\n    return !!this.$slots.prefix;\r\n  }\r\n\r\n  get beSlot(): boolean {\r\n    return !!this.beSuffix || !!this.bePrefix;\r\n  }\r\n\r\n  mounted() {\r\n    this.setPaddingRight();\r\n  }\r\n\r\n  setPaddingRight() {\r\n    const { suffix } = this.$refs;\r\n    const space = suffix ? 16 : 0;\r\n    const width = suffix ? `${(suffix as any).offsetWidth + space}px` : '';\r\n    const paddingRightValue = this.showWordLimit && this.value ? `padding-right: ${width}` : '';\r\n    this.suffixStyle = paddingRightValue;\r\n  }\r\n\r\n  @Emit('model')\r\n  changeValue(params: ReturnParamsEntity): string | number {\r\n    this.setPaddingRight();\r\n\r\n    this.$emit('change', params);\r\n    (this.change as Function)(params);\r\n\r\n    return getMaxLengthValue(params.value, this.maxLength);\r\n  }\r\n}\r\n",{"version":3,"sources":["Input.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"Input.vue","sourceRoot":"src/components/input","sourcesContent":["<template>\r\n  <div\r\n    class=\"w-input-wraper\"\r\n    :class=\"wraperClass\"\r\n    v-if=\"beSlot || showWordLimit\"\r\n  >\r\n    <span\r\n      class=\"w-input-wraper-prefix\"\r\n      :class=\"prefixClass\"\r\n      v-if=\"bePrefix\"\r\n    >\r\n      <slot name=\"prefix\"></slot>\r\n    </span>\r\n    <Inp\r\n      :class=\"inputClass\"\r\n      :type=\"type\"\r\n      :value=\"value\"\r\n      :disabled=\"disabled\"\r\n      :size=\"size\"\r\n      :readonly=\"readonly\"\r\n      :placeholder=\"placeholder\"\r\n      :error=\"error\"\r\n      :maxLength=\"maxLength\"\r\n      @change=\"changeValue\"\r\n      :style=\"suffixStyle\"\r\n    />\r\n    <span\r\n      class=\"w-input-wraper-suffix\"\r\n      :class=\"suffixClass\"\r\n      v-if=\"beSuffix || showWordLimit\"\r\n      ref=\"suffix\"\r\n    >\r\n      <slot\r\n        name=\"suffix\"\r\n        v-if=\"beSuffix\"\r\n      ></slot>\r\n      <span\r\n        class=\"w-input-count\"\r\n        :class=\"{\r\n          ['w-input-count-suffix']: beSuffix,\r\n        }\"\r\n        v-if=\"maxLength > 0 && showWordLimit\"\r\n      >\r\n        {{String(value).length}} / {{maxLength}}\r\n      </span>\r\n    </span>\r\n  </div>\r\n  <Inp\r\n    v-else\r\n    :type=\"type\"\r\n    :disabled=\"disabled\"\r\n    :size=\"size\"\r\n    :placeholder=\"placeholder\"\r\n    :error=\"error\"\r\n    :value=\"value\"\r\n    :maxLength=\"maxLength\"\r\n    @change=\"changeValue\"\r\n  />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {\r\n  Component,\r\n  Model,\r\n  Prop,\r\n  Emit,\r\n  Vue,\r\n} from 'vue-property-decorator';\r\nimport Inp, { ReturnParamsEntity } from '@/components/input/Inp';\r\nimport { getMaxLengthValue } from '@/components/input/helpers';\r\n\r\n@Component({\r\n  components: {\r\n    Inp,\r\n  },\r\n})\r\nexport default class Input extends Vue {\r\n  name: string = 'Input';\r\n\r\n  preName: string = 'w-input-';\r\n\r\n  suffixStyle: string = '';\r\n\r\n  @Model('model', { type: [String, Number] }) readonly value!: string | number;\r\n\r\n  @Prop([String, Number]) private maxLength!: string | number;\r\n\r\n  @Prop(String) private placeholder!: string;\r\n\r\n  @Prop(String) private size!: string;\r\n\r\n  @Prop({\r\n    type: String,\r\n    default: 'text',\r\n  }) private type!: string;\r\n\r\n  @Prop(Boolean) private disabled!: boolean;\r\n\r\n  @Prop(Boolean) private showWordLimit!: boolean;\r\n\r\n  @Prop(Boolean) private readonly!: boolean;\r\n\r\n  @Prop({\r\n    type: Function,\r\n    default: (): boolean => false,\r\n  }) private error?: Function;\r\n\r\n  @Prop({\r\n    type: Function,\r\n    default: () => {},\r\n  }) private change?: Function;\r\n\r\n  get wraperClass(): any[] {\r\n    return [\r\n      {\r\n        'w-input-wraper-slot': this.beSlot,\r\n      },\r\n    ];\r\n  }\r\n\r\n  get inputClass(): any[] {\r\n    return [\r\n      {\r\n        'w-input-slot-suffix': this.beSuffix,\r\n        'w-input-slot-prefix': this.bePrefix,\r\n        [`w-input-slot-suffix-${this.size}`]: this.beSuffix && this.size,\r\n        [`w-input-slot-prefix-${this.size}`]: this.bePrefix && this.size,\r\n      },\r\n    ];\r\n  }\r\n\r\n  get suffixClass(): any[] {\r\n    return [\r\n      {\r\n        [`w-input-wraper-suffix-${this.size}`]: this.size,\r\n        'w-input-wraper-suffix-limit': this.showWordLimit,\r\n        [`w-input-wraper-suffix-limit-${this.size}`]: this.size && this.showWordLimit,\r\n      },\r\n    ];\r\n  }\r\n\r\n  get prefixClass(): any[] {\r\n    return [\r\n      {\r\n        [`w-input-wraper-prefix-${this.size}`]: this.size,\r\n      },\r\n    ];\r\n  }\r\n\r\n  get beSuffix(): boolean {\r\n    return !!this.$slots.suffix;\r\n  }\r\n\r\n  get bePrefix(): boolean {\r\n    return !!this.$slots.prefix;\r\n  }\r\n\r\n  get beSlot(): boolean {\r\n    return !!this.beSuffix || !!this.bePrefix;\r\n  }\r\n\r\n  mounted() {\r\n    this.setPaddingRight();\r\n  }\r\n\r\n  setPaddingRight() {\r\n    const { suffix } = this.$refs;\r\n    const space = suffix ? 16 : 0;\r\n    const width = suffix ? `${(suffix as any).offsetWidth + space}px` : '';\r\n    const paddingRightValue = this.showWordLimit && this.value ? `padding-right: ${width}` : '';\r\n    this.suffixStyle = paddingRightValue;\r\n  }\r\n\r\n  @Emit('model')\r\n  changeValue(params: ReturnParamsEntity): string | number {\r\n    this.setPaddingRight();\r\n\r\n    this.$emit('change', params);\r\n    (this.change as Function)(params);\r\n\r\n    return getMaxLengthValue(params.value, this.maxLength);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  @import \"input.scss\";\r\n</style>\r\n"]}]}